{% extends 'base.html' %}
{% load humanize %}
{% load seo_tags %}

{% block title %}Trusted Seller Program - HeroesAndMore{% endblock %}
{% block meta_description %}Become a Trusted Seller on HeroesAndMore. Earn lower commissions, a gold badge on your listings, and submit items to official platform auctions.{% endblock %}
{% block og_title %}Trusted Seller Program - HeroesAndMore{% endblock %}
{% block og_description %}Earn lower commissions, a gold Trusted Seller badge, and access to platform auctions. Qualify automatically when you meet our seller performance criteria.{% endblock %}

{% block structured_data %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "Trusted Seller Program",
  "description": "Become a Trusted Seller on HeroesAndMore. Earn lower commissions, a gold badge, and access to official platform auctions.",
  "url": "{{ site_url }}/trusted-seller/",
  "publisher": {
    "@type": "Organization",
    "name": "HeroesAndMore",
    "url": "https://heroesandmore.com"
  }
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "What is a Trusted Seller?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Trusted Sellers are top-performing sellers on HeroesAndMore who have demonstrated consistent quality through high sales volume, excellent ratings, and a premium subscription tier. They receive a gold badge, lower commission rates, and access to platform auction events."
      }
    },
    {
      "@type": "Question",
      "name": "How do I qualify for Trusted Seller status?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "You qualify automatically when you meet all three criteria: 20 or more completed sales, a seller rating of 4.5 or higher with at least 10 reviews, and an active Featured or Premium subscription tier."
      }
    },
    {
      "@type": "Question",
      "name": "What commission discount do Trusted Sellers get?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Trusted Sellers receive a 2% discount on their commission rate. For example, a Featured tier seller paying 7.95% commission would pay only 5.95% as a Trusted Seller. Premium tier sellers paying 5.95% would pay 3.95%."
      }
    },
    {
      "@type": "Question",
      "name": "How do platform auctions work for Trusted Sellers?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "When a platform auction event is accepting submissions, Trusted Sellers can submit their listings for consideration. Our team reviews submissions and approved items are included in the official auction event, giving them premium visibility to all buyers."
      }
    },
    {
      "@type": "Question",
      "name": "Can I lose Trusted Seller status?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes. Trusted Seller status is checked daily. If your rating drops below 4.5, your review count falls below 10, or you downgrade from a Featured or Premium subscription, you will lose Trusted Seller status until you meet the criteria again."
      }
    }
  ]
}
</script>
{% endblock %}

{% block content %}
<!-- Hero -->
<div style="background: linear-gradient(180deg, var(--gray-900) 0%, var(--gray-800) 100%); color: #fff; padding: 4rem 0 5rem; position: relative; overflow: hidden;">
    <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: url('data:image/svg+xml,%3Csvg width=\'60\' height=\'60\' viewBox=\'0 0 60 60\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cg fill=\'none\' fill-rule=\'evenodd\'%3E%3Cg fill=\'%23ffffff\' fill-opacity=\'0.03\'%3E%3Cpath d=\'M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z\'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E'); opacity: 0.5;"></div>
    <div class="container position-relative">
        <div class="row align-items-center g-5">
            <div class="col-lg-7">
                <div class="mb-3">
                    <span class="d-inline-flex align-items-center gap-2 px-3 py-2" style="background: linear-gradient(135deg, #D4A017, #B8860B); border-radius: 0.5rem; font-size: 0.85rem; font-weight: 600;">
                        <i class="bi bi-award"></i> Trusted Seller Program
                    </span>
                </div>

                {% if is_trusted %}
                <h1 style="font-size: 2.75rem; font-weight: 800; letter-spacing: -0.03em; line-height: 1.1; color: #fff; margin-bottom: 1.25rem;">You're a Trusted Seller</h1>
                <p style="font-size: 1.15rem; color: var(--gray-300); max-width: 520px; margin-bottom: 2rem;">
                    Congratulations! You've earned Trusted Seller status. Enjoy lower commissions, your gold badge, and the ability to submit lots to official platform auctions.
                </p>
                <a href="{% url 'marketplace:platform_auctions' %}" class="btn btn-light fw-semibold px-4 py-2">
                    <i class="bi bi-hammer me-1"></i> View Platform Auctions
                </a>
                {% else %}
                <h1 style="font-size: 2.75rem; font-weight: 800; letter-spacing: -0.03em; line-height: 1.1; color: #fff; margin-bottom: 1.25rem;">Become a<br>Trusted Seller</h1>
                <p style="font-size: 1.15rem; color: var(--gray-300); max-width: 520px; margin-bottom: 2rem;">
                    Top sellers on HeroesAndMore earn Trusted Seller status automatically. Unlock exclusive benefits that help you sell more and earn more.
                </p>
                <a href="{% url 'sell' %}" class="btn btn-light fw-semibold px-4 py-2">
                    Start Selling
                </a>
                {% endif %}
            </div>

            <div class="col-lg-5">
                <div class="card" style="border: none; box-shadow: 0 25px 50px -12px rgba(0,0,0,0.4); overflow: hidden;">
                    <div style="background: linear-gradient(135deg, #D4A017, #B8860B); padding: 1.5rem; text-align: center;">
                        <i class="bi bi-award" style="font-size: 2.5rem; color: #fff;"></i>
                        <h4 class="fw-bold mt-2 mb-0" style="color: #fff;">Trusted Seller</h4>
                    </div>
                    <div class="card-body p-4">
                        <div class="d-flex align-items-center gap-3 mb-3 pb-3" style="border-bottom: 1px solid var(--border-color);">
                            <div style="width: 40px; height: 40px; background: var(--gray-100); border-radius: 0.5rem; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                <i class="bi bi-hammer" style="color: var(--gray-700);"></i>
                            </div>
                            <div>
                                <div class="fw-semibold" style="font-size: 0.95rem; color: var(--gray-900);">Platform Auctions</div>
                                <div class="text-muted" style="font-size: 0.8rem;">Submit items to official events</div>
                            </div>
                        </div>
                        <div class="d-flex align-items-center gap-3 mb-3 pb-3" style="border-bottom: 1px solid var(--border-color);">
                            <div style="width: 40px; height: 40px; background: var(--gray-100); border-radius: 0.5rem; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                <i class="bi bi-award" style="color: var(--gray-700);"></i>
                            </div>
                            <div>
                                <div class="fw-semibold" style="font-size: 0.95rem; color: var(--gray-900);">Gold Badge</div>
                                <div class="text-muted" style="font-size: 0.8rem;">Visible on profile &amp; every listing</div>
                            </div>
                        </div>
                        <div class="d-flex align-items-center gap-3">
                            <div style="width: 40px; height: 40px; background: var(--gray-100); border-radius: 0.5rem; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                <i class="bi bi-percent" style="color: var(--gray-700);"></i>
                            </div>
                            <div>
                                <div class="fw-semibold" style="font-size: 0.95rem; color: var(--gray-900);">2% Lower Commissions</div>
                                <div class="text-muted" style="font-size: 0.8rem;">Automatically applied to every sale</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Commission Comparison -->
<div style="background: #fff; border-bottom: 1px solid var(--border-color);">
    <div class="container py-5">
        <div class="text-center mb-4">
            <h2 style="font-size: 1.75rem;">Commission Rates</h2>
            <p class="text-muted">See how much you save as a Trusted Seller.</p>
        </div>

        <div class="row g-3 justify-content-center">
            <div class="col-6 col-lg-3">
                <div class="card h-100 text-center">
                    <div class="card-body p-3 p-md-4">
                        <h6 class="fw-bold text-muted text-uppercase" style="font-size: 0.75rem; letter-spacing: 0.05em;">Starter</h6>
                        <div class="fw-bold mb-1" style="font-size: 1.5rem;">12.95%</div>
                        <div class="text-muted small">Not eligible</div>
                    </div>
                </div>
            </div>
            <div class="col-6 col-lg-3">
                <div class="card h-100 text-center">
                    <div class="card-body p-3 p-md-4">
                        <h6 class="fw-bold text-muted text-uppercase" style="font-size: 0.75rem; letter-spacing: 0.05em;">Basic</h6>
                        <div class="fw-bold mb-1" style="font-size: 1.5rem;">9.95%</div>
                        <div class="text-muted small">Not eligible</div>
                    </div>
                </div>
            </div>
            <div class="col-6 col-lg-3">
                <div class="card h-100 text-center" style="border-color: #D4A017; border-width: 2px;">
                    <div class="card-body p-3 p-md-4">
                        <h6 class="fw-bold text-uppercase" style="font-size: 0.75rem; letter-spacing: 0.05em; color: #B8860B;">Featured + Trusted</h6>
                        <div class="fw-bold mb-1" style="font-size: 1.5rem;"><span class="text-decoration-line-through text-muted" style="font-size: 1rem;">7.95%</span> 5.95%</div>
                        <div style="font-size: 0.8rem; color: #B8860B; font-weight: 600;">Save 2%</div>
                    </div>
                </div>
            </div>
            <div class="col-6 col-lg-3">
                <div class="card h-100 text-center" style="border-color: #D4A017; border-width: 2px;">
                    <div class="card-body p-3 p-md-4">
                        <h6 class="fw-bold text-uppercase" style="font-size: 0.75rem; letter-spacing: 0.05em; color: #B8860B;">Premium + Trusted</h6>
                        <div class="fw-bold mb-1" style="font-size: 1.5rem;"><span class="text-decoration-line-through text-muted" style="font-size: 1rem;">5.95%</span> 3.95%</div>
                        <div style="font-size: 0.8rem; color: #B8860B; font-weight: 600;">Save 2%</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- How to Qualify -->
<div class="container py-5">
    <div class="text-center mb-4">
        <h2 style="font-size: 1.75rem;">How to Qualify</h2>
        <p class="text-muted">Meet all three criteria and you'll be automatically promoted.</p>
    </div>

    <div class="row g-4">
        <div class="col-md-4 text-center">
            <div style="width: 56px; height: 56px; background: var(--gray-100); border-radius: 1rem; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem; font-size: 1.25rem; color: var(--gray-700);">
                {% if user.is_authenticated and user.profile.total_sales_count >= 20 %}
                <i class="bi bi-check-lg text-success" style="font-size: 1.5rem;"></i>
                {% elif user.is_authenticated %}
                <span class="fw-bold" style="font-size: 0.95rem;">{{ user.profile.total_sales_count }}/20</span>
                {% else %}
                <i class="bi bi-cart-check"></i>
                {% endif %}
            </div>
            <h5 class="fw-bold" style="font-size: 1.05rem;">20+ Completed Sales</h5>
            <p class="text-muted" style="font-size: 0.9rem;">Build your track record with at least 20 successful transactions on the platform.</p>
        </div>
        <div class="col-md-4 text-center">
            <div style="width: 56px; height: 56px; background: var(--gray-100); border-radius: 1rem; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem; font-size: 1.25rem; color: var(--gray-700);">
                {% if user.is_authenticated and user.profile.rating >= 4.5 and user.profile.rating_count >= 10 %}
                <i class="bi bi-check-lg text-success" style="font-size: 1.5rem;"></i>
                {% elif user.is_authenticated %}
                <span class="fw-bold" style="font-size: 0.95rem;">{{ user.profile.rating|floatformat:1 }}</span>
                {% else %}
                <i class="bi bi-star"></i>
                {% endif %}
            </div>
            <h5 class="fw-bold" style="font-size: 1.05rem;">4.5+ Seller Rating</h5>
            <p class="text-muted" style="font-size: 0.9rem;">Maintain a stellar reputation with at least a 4.5 average from 10 or more buyer reviews.</p>
        </div>
        <div class="col-md-4 text-center">
            <div style="width: 56px; height: 56px; background: var(--gray-100); border-radius: 1rem; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem; font-size: 1.25rem; color: var(--gray-700);">
                {% if user.is_authenticated %}
                    {% if user.profile.seller_tier == 'featured' or user.profile.seller_tier == 'premium' %}
                    <i class="bi bi-check-lg text-success" style="font-size: 1.5rem;"></i>
                    {% else %}
                    <i class="bi bi-arrow-up"></i>
                    {% endif %}
                {% else %}
                <i class="bi bi-award"></i>
                {% endif %}
            </div>
            <h5 class="fw-bold" style="font-size: 1.05rem;">Featured or Premium Tier</h5>
            <p class="text-muted" style="font-size: 0.9rem;">Subscribe to a Featured ($29.99/mo) or Premium ($99.99/mo) seller plan to unlock eligibility.</p>
        </div>
    </div>
</div>

<!-- How It Works -->
<div style="background: #fff; border-top: 1px solid var(--border-color); border-bottom: 1px solid var(--border-color);">
    <div class="container py-5">
        <div class="text-center mb-4">
            <h2 style="font-size: 1.75rem;">How It Works</h2>
        </div>

        <div class="row g-4">
            <div class="col-md-4 text-center">
                <div style="width: 48px; height: 48px; background: var(--gray-900); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem; color: #fff; font-weight: 700;">1</div>
                <h5 class="fw-bold" style="font-size: 1.05rem;">Meet the Criteria</h5>
                <p class="text-muted" style="font-size: 0.9rem;">Hit 20 sales, maintain a 4.5+ rating, and subscribe to Featured or Premium.</p>
            </div>
            <div class="col-md-4 text-center">
                <div style="width: 48px; height: 48px; background: var(--gray-900); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem; color: #fff; font-weight: 700;">2</div>
                <h5 class="fw-bold" style="font-size: 1.05rem;">Auto-Qualify</h5>
                <p class="text-muted" style="font-size: 0.9rem;">Our system checks daily. Once you meet all criteria, you're automatically promoted.</p>
            </div>
            <div class="col-md-4 text-center">
                <div style="width: 48px; height: 48px; background: var(--gray-900); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem; color: #fff; font-weight: 700;">3</div>
                <h5 class="fw-bold" style="font-size: 1.05rem;">Enjoy the Benefits</h5>
                <p class="text-muted" style="font-size: 0.9rem;">Your badge appears instantly, commission drops, and you can submit to platform auctions.</p>
            </div>
        </div>
    </div>
</div>

<!-- FAQ -->
<div class="container py-5">
    <div class="text-center mb-4">
        <h2 style="font-size: 1.75rem;">Frequently Asked Questions</h2>
    </div>

    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="accordion" id="trustedFaq">
                <div class="accordion-item">
                    <h3 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#tfaq1">
                            What is a Trusted Seller?
                        </button>
                    </h3>
                    <div id="tfaq1" class="accordion-collapse collapse" data-bs-parent="#trustedFaq">
                        <div class="accordion-body text-muted">
                            Trusted Sellers are top-performing sellers on HeroesAndMore who have demonstrated consistent quality through high sales volume, excellent ratings, and a premium subscription tier. They receive a gold badge, lower commission rates, and access to platform auction events.
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h3 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#tfaq2">
                            How do I qualify?
                        </button>
                    </h3>
                    <div id="tfaq2" class="accordion-collapse collapse" data-bs-parent="#trustedFaq">
                        <div class="accordion-body text-muted">
                            You qualify automatically when you meet all three criteria: 20 or more completed sales, a seller rating of 4.5 or higher with at least 10 reviews, and an active Featured or Premium subscription tier. Our system checks daily and promotes qualifying sellers automatically.
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h3 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#tfaq3">
                            What commission discount do I get?
                        </button>
                    </h3>
                    <div id="tfaq3" class="accordion-collapse collapse" data-bs-parent="#trustedFaq">
                        <div class="accordion-body text-muted">
                            Trusted Sellers receive a 2% discount on their tier's commission rate. Featured sellers pay 5.95% instead of 7.95%. Premium sellers pay 3.95% instead of 5.95%. The discount is applied automatically to every sale.
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h3 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#tfaq4">
                            How do platform auctions work?
                        </button>
                    </h3>
                    <div id="tfaq4" class="accordion-collapse collapse" data-bs-parent="#trustedFaq">
                        <div class="accordion-body text-muted">
                            When a platform auction event is accepting submissions, you can submit your listings for review. Our team reviews each submission and approved items are included in the official auction event. You keep ownership of your item&mdash;it just gets featured in a curated event with premium visibility.
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h3 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#tfaq5">
                            Can I lose Trusted Seller status?
                        </button>
                    </h3>
                    <div id="tfaq5" class="accordion-collapse collapse" data-bs-parent="#trustedFaq">
                        <div class="accordion-body text-muted">
                            Yes. Trusted Seller status is checked daily. If your rating drops below 4.5, your review count falls below 10, or you downgrade from a Featured or Premium subscription, you will lose Trusted Seller status until you meet the criteria again.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Bottom CTA -->
<div style="background: var(--gray-900); color: #fff; padding: 3rem 0;">
    <div class="container text-center">
        {% if is_trusted %}
        <h2 style="font-size: 1.75rem; color: #fff; margin-bottom: 0.5rem;">Ready to submit to an auction?</h2>
        <p style="color: var(--gray-400); margin-bottom: 1.5rem;">Browse upcoming platform events and submit your best items.</p>
        <a href="{% url 'marketplace:platform_auctions' %}" class="btn btn-light fw-semibold px-4 py-2">
            <i class="bi bi-hammer me-1"></i> View Platform Auctions
        </a>
        {% else %}
        <h2 style="font-size: 1.75rem; color: #fff; margin-bottom: 0.5rem;">Ready to earn Trusted Seller status?</h2>
        <p style="color: var(--gray-400); margin-bottom: 1.5rem;">Start selling and building your reputation today.</p>
        <a href="{% url 'sell' %}" class="btn btn-light fw-semibold px-4 py-2">
            Start Selling
        </a>
        {% endif %}
    </div>
</div>
{% endblock %}

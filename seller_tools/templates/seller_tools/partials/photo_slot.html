<div class="photo-slot" id="slot-{{ slot.position }}">
    {% if slot.image %}
    <div class="position-relative" style="aspect-ratio: 1; overflow: hidden; border-radius: 0.5rem;">
        <img src="{{ slot.image.url }}" alt="{{ slot.label }}"
             style="width: 100%; height: 100%; object-fit: cover;">
        <button type="button" class="btn btn-danger btn-sm position-absolute top-0 end-0 m-1"
                style="width: 28px; height: 28px; padding: 0; border-radius: 50%; font-size: 0.75rem;"
                hx-post="{% url 'seller_tools:import_photo_delete' pk=bulk_import.pk listing_id=listing.pk position=slot.position %}"
                hx-target="#slot-{{ slot.position }}"
                hx-swap="outerHTML"
                hx-confirm="Remove this photo?">
            <i class="bi bi-x-lg"></i>
        </button>
        <div class="position-absolute bottom-0 start-0 m-1">
            <span class="badge bg-dark bg-opacity-75" style="font-size: 0.65rem;">{{ slot.label }}</span>
        </div>
    </div>
    {% else %}
    <label style="aspect-ratio: 1; border: 2px dashed #dee2e6; border-radius: 0.5rem; display: flex; flex-direction: column; align-items: center; justify-content: center; cursor: pointer; background: #f8f9fa; transition: border-color 0.15s;"
           onmouseover="this.style.borderColor='#0d6efd'" onmouseout="this.style.borderColor='#dee2e6'">
        <i class="bi bi-camera" style="font-size: 1.75rem; color: #adb5bd;"></i>
        <span class="text-muted" style="font-size: 0.75rem; margin-top: 0.25rem;">{{ slot.label }}</span>
        <input type="file" name="photo" accept="image/*" capture="environment"
               style="display: none;"
               hx-post="{% url 'seller_tools:import_photo_upload' pk=bulk_import.pk listing_id=listing.pk %}?position={{ slot.position }}"
               hx-target="#slot-{{ slot.position }}"
               hx-swap="outerHTML"
               hx-encoding="multipart/form-data"
               hx-trigger="change">
    </label>
    {% endif %}
</div>
